$(document).ready((function(){setTimeout((function(){$("#pokeball").fadeOut("slow",(function(){$("#bg-loading").fadeOut("slow")}))}),2e3);var $cards=$(".card"),$style=$(".hover");$cards.on("mousemove",(function(e){var $card=$(this),l=e.offsetX,t=e.offsetY,h=$card.height(),w=$card.width(),lp,tp,bg,style=`.card.active:before { ${`background-position: ${Math.abs(Math.floor(100/w*l)-100)}% ${Math.abs(Math.floor(100/h*t)-100)}%;`} }`;$cards.removeClass("active"),$card.addClass("active"),$style.html(style)})).on("mouseout",(function(){$cards.removeClass("active")}));const searchBox=document.getElementById("search-box"),searchButton=document.getElementById("search-button"),testButton=document.getElementById("test-button");async function findPokemon(test,pokemonTest){var pokemon;test?($("#test-button").attr("disabled",!0),testButton.innerHTML="Waiting finish...",pokemon=pokemonTest,searchBox.value=pokemonTest):(pokemon=searchBox.value.toLowerCase(),searchBox.value="");const data=await fetch(`https://pokeapi.co/api/v2/pokemon/${pokemon}`);await data.json().then(response=>{displayPokemon(response)})}function displayPokemon(pokemon){const pokemonImg=document.getElementById("pokemon-img"),pokemonName=document.getElementById("pokemon-name"),pokemonId=document.getElementById("pokemon-id"),pokemonXP=document.getElementById("pokemon-xp"),pokemonHeight=document.getElementById("pokemon-height"),pokemonWeight=document.getElementById("pokemon-weight"),pokemonAbilities=document.getElementById("pokemon-abilities"),pokemonForms=document.getElementById("pokemon-forms"),pokemonType=document.getElementById("pokemon-type");pokemonImg.src=pokemon.sprites.front_default,pokemonName.innerHTML=correctData(pokemon.name),pokemonId.innerHTML="#"+pokemon.id,pokemonXP.innerHTML=pokemon.base_experience,pokemonHeight.innerHTML=pokemon.height,pokemonWeight.innerHTML=pokemon.weight;let abilities="";for(var i in pokemon.abilities)abilities+="<p class='tag'>"+correctData(pokemon.abilities[i].ability.name)+"</p>";pokemonAbilities.innerHTML="",pokemonAbilities.innerHTML=abilities;let forms="";for(var i in pokemon.forms)forms+="<p class='tag'>"+correctData(pokemon.forms[i].name)+"</p>";pokemonForms.innerHTML="",pokemonForms.innerHTML=forms;let types="";for(var i in pokemon.types)types+=`<a data-toggle="tooltip" data-placement="top"\n      title="${correctData(pokemon.types[i].type.name)}"><img src="./img/icons/${pokemon.types[i].type.name}.png"/></a>`;pokemonType.innerHTML="",pokemonType.innerHTML=types}function correctData(string){return/[-]/.test(string)?correctData(string.replace(/-/g,"&nbsp")):string.toLowerCase().split("&nbsp").map(word=>word.charAt(0).toUpperCase()+word.slice(1)).join(" ")}async function testPokemons(test){test?checkAllPokemons():stopTest();const testTime=1e3,qtd=20;var index=0,time=setInterval(checkAllPokemons,1e3);async function checkAllPokemons(){const pokemons=await fetch("https://pokeapi.co/api/v2/pokemon/?limit=20");await pokemons.json().then(response=>{findPokemon(test=!0,response.results[index].name),++index===response.results.length&&(stopTest(),testButton.innerHTML="Test finished!")})}function stopTest(){clearInterval(time)}}searchButton.addEventListener("click",(function(){findPokemon()})),testButton.addEventListener("click",(function(){testPokemons(!0)})),searchBox.addEventListener("keypress",(function(e){13==e.which&&findPokemon()}))}));